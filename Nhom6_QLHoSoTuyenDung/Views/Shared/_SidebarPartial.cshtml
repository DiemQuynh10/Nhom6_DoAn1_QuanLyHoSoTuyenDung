@* Views/Shared/_SidebarPartial.cshtml *@
@{
    // Lấy vai trò và họ tên từ session
    var vaiTro = Context.Session.GetString("VaiTro")?.Trim().ToLowerInvariant();
    var hoTen = Context.Session.GetString("HoTen") ?? "User";
    var currentController = ViewContext.RouteData.Values["controller"]?.ToString()?.ToLowerInvariant();
}
<div class="d-flex flex-column h-100">

    @* 1. Phần menu chính (scrollable) *@
    <div class="sidebar-content flex-grow-1 overflow-auto">
        <nav class="nav flex-column">
            @if (vaiTro == "admin" || vaiTro == "hr")
            {
                <a asp-controller="Home" asp-action="Index"
                   class="nav-link @(currentController == "home" ? "active" : "")">🏠 Tổng quan</a>
                <a asp-controller="UngViens" asp-action="Index"
                   class="nav-link @(currentController == "ungviens" ? "active" : "")">👤 Ứng viên</a>
                <a asp-controller="ViTriTuyenDungs" asp-action="Index"
                   class="nav-link @(currentController == "vitrituyendungs" ? "active" : "")">📌 Vị trí tuyển dụng</a>
                <a asp-controller="LichPhongVans" asp-action="Index"
                   class="nav-link @(currentController == "lichphongvans" ? "active" : "")">💬 Phỏng vấn</a>
                <a asp-controller="ThongKe" asp-action="Index"
                   class="nav-link @(currentController == "thongke" ? "active" : "")">📊 Thống kê & báo cáo</a>
                <a asp-controller="NhanViens" asp-action="Index"
                   class="nav-link @(currentController == "nhanviens" ? "active" : "")">🧑‍💼 Nhân viên</a>
            }
            else if (vaiTro == "interviewer")
            {
                <a asp-controller="LichPhongVans" asp-action="Index"
                   class="nav-link @(currentController == "lichphongvans" ? "active" : "")">💬 Lịch phỏng vấn</a>
            }
        </nav>
    </div>

    @* 2. Phần tài khoản cố định bên dưới *@
    <div class="mt-auto pt-3 border-top px-2">
        <div class="d-flex align-items-center justify-content-between">
            <div class="d-flex align-items-center">
                <i class="fa-solid fa-user-circle fs-4 me-2 text-secondary"></i>
                <span>@hoTen</span>
            </div>
            <div class="dropdown">
                <button class="btn btn-sm btn-light p-1" type="button"
                        data-bs-toggle="dropdown" aria-expanded="false"
                        title="Các thao tác tài khoản">
                    <i class="fa-solid fa-ellipsis-vertical"></i>
                </button>
                <ul class="dropdown-menu dropdown-menu-end mt-1">
                    <li>
                        <a class="dropdown-item" asp-controller="Settings" asp-action="Index">
                            ⚙️ Cài đặt
                        </a>
                    </li>
                    <li>
                        <a class="dropdown-item" asp-controller="NguoiDungs" asp-action="Profile">
                            👤 Thông tin cá nhân
                        </a>
                    </li>
                    <li>
                        <a class="dropdown-item" asp-controller="NguoiDungs" asp-action="ChangePassword">
                            🔑 Đổi mật khẩu
                        </a>
                    </li>
                    <li><hr class="dropdown-divider" /></li>
                    <li>
                        <button type="button" class="dropdown-item text-danger"
                                data-bs-toggle="modal" data-bs-target="#logoutConfirmModal">
                            🚪 Đăng xuất
                        </button>
                    </li>
                </ul>
            </div>
        </div>
    </div>
</div>
