@model Nhom6_QLHoSoTuyenDung.Models.XacNhanMaVM
@{
    Layout = null;
}

<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>Xác nhận mã</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" />
</head>
<body class="bg-light">
    <div class="container mt-5" style="max-width: 500px;">
        <h3 class="text-center text-primary mb-4">Xác nhận mã xác nhận</h3>

        @if (TempData["Success"] != null)
        {
            <div class="alert alert-success">@TempData["Success"]</div>
        }
        @if (TempData["Error"] != null)
        {
            <div class="alert alert-danger">@TempData["Error"]</div>
        }

        <form asp-action="XacNhanMa" method="post">
            <input type="hidden" asp-for="TenDangNhap" />
            <div class="mb-3">
                <label class="form-label">Mã xác nhận</label>
                <input asp-for="MaXacNhan" class="form-control" />
                <span asp-validation-for="MaXacNhan" class="text-danger"></span>
            </div>
            <button type="submit" class="btn btn-success w-100">Xác nhận</button>
        </form>

        <div id="countdown" class="mt-3 text-danger text-center fw-bold"></div>
    </div>

    <script>
        let seconds = 120;
        const countdownEl = document.getElementById("countdown");
        const timer = setInterval(() => {
            let min = Math.floor(seconds / 60);
            let sec = seconds % 60;
            countdownEl.textContent = "Mã sẽ hết hạn sau: " + min + ":" + sec.toString().padStart(2, '0');
            seconds--;
            if (seconds < 0) {
                clearInterval(timer);
                countdownEl.textContent = "⛔ Mã xác nhận đã hết hạn.";
            }
        }, 1000);
    </script>
</body>
</html>
